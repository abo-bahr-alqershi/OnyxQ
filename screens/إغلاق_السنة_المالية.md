# شاشة إغلاق السنة المالية (Fiscal Year Closing)

## نظرة عامة
شاشة إغلاق السنة المالية هي إحدى الشاشات الإدارية الحيوية في نظام الأونكس برو ERP، والتي تستخدم لإجراء عمليات إغلاق السنة المالية ونقل الأرصدة للسنة المالية الجديدة. تعتبر هذه الشاشة أداة محورية في دورة العمل المحاسبي السنوية، حيث تمكّن المحاسبين ومدراء النظام من تنفيذ مجموعة من الإجراءات المنظمة والمتسلسلة لضمان إغلاق السنة المالية بشكل صحيح وآمن.

تتيح الشاشة تنفيذ العمليات المحاسبية المعقدة المطلوبة في نهاية السنة المالية، مثل ترحيل أرصدة الحسابات، وإقفال الحسابات الختامية، وإنشاء قيود الافتتاح للسنة الجديدة، وتوليد التقارير المالية النهائية. كما توفر آليات للتحقق من سلامة البيانات وتوازن الأرصدة قبل الإغلاق النهائي، وإنشاء نسخ احتياطية للبيانات المالية، مما يضمن حماية سجلات السنة المالية المنتهية والانتقال السلس إلى السنة المالية الجديدة.

## مكونات واجهة المستخدم

### القسم العلوي (شريط الأدوات)
- **شريط العنوان**: يعرض عنوان الشاشة "إغلاق السنة المالية" مع أيقونة توضيحية
- **شريط الأدوات الرئيسي**: يحتوي على أزرار للوظائف الأساسية مثل:
  - زر بدء عملية الإغلاق
  - زر النسخ الاحتياطي
  - زر التحقق قبل الإغلاق
  - زر عرض سجل عمليات الإغلاق السابقة
  - زر إلغاء عملية الإغلاق الجارية
  - زر التراجع عن آخر إغلاق (في حالات محددة)
  - زر المساعدة
- **مؤشر السنة المالية**: يعرض السنة المالية الحالية المراد إغلاقها
- **شريط حالة الإغلاق**: يوضح المرحلة الحالية في عملية الإغلاق

### قسم معلومات السنة المالية (الجزء العلوي)
- **معلومات السنة المالية**: يعرض:
  - رمز السنة المالية
  - تاريخ بداية السنة المالية
  - تاريخ نهاية السنة المالية
  - عدد الفترات المحاسبية
  - حالة السنة المالية (نشطة، قيد الإغلاق، مغلقة)
  - تاريخ آخر إقفال للفترات
  - معلومات عن السنة المالية التالية
  - النظام الضريبي المطبق
- **ملخص الأرصدة**: يوضح:
  - إجمالي أرصدة الأصول
  - إجمالي أرصدة الخصوم
  - إجمالي أرصدة الإيرادات
  - إجمالي أرصدة المصروفات
  - صافي الربح/الخسارة
  - عدد القيود المحاسبية
  - عدد الحسابات النشطة

### قسم مراحل الإغلاق (الجزء الرئيسي)
- **قائمة مراحل الإغلاق**: عرض المراحل بشكل متسلسل:
  - مرحلة التحقق والتدقيق
  - مرحلة إغلاق الفترات المحاسبية
  - مرحلة تسوية الحسابات
  - مرحلة إقفال الحسابات المؤقتة
  - مرحلة احتساب وتوزيع الأرباح
  - مرحلة ترحيل الأرصدة للسنة الجديدة
  - مرحلة إنشاء قيود الافتتاح
  - مرحلة الإغلاق النهائي للسنة
- **تفاصيل كل مرحلة**:
  - الحالة (معلقة، قيد التنفيذ، مكتملة، فشلت)
  - الخطوات الفرعية لكل مرحلة
  - نسبة الإكمال
  - المستخدم المسؤول
  - تاريخ بدء المرحلة
  - تاريخ إكمال المرحلة
  - ملاحظات خاصة
  - نتائج التحقق

### قسم العمليات الجارية (الجزء الأوسط)
- **عرض حالة العمليات**: يعرض:
  - العملية الجارية حالياً
  - تفاصيل التقدم
  - وقت البدء المقدر
  - الوقت المستغرق
  - الوقت المتبقي
  - شريط تقدم مرئي
  - عدد القيود المعالجة
  - عدد الحسابات المعالجة
- **سجل الأحداث**: يعرض:
  - آخر الإجراءات المنفذة
  - التنبيهات والتحذيرات
  - الأخطاء (إن وجدت)
  - نقاط التحقق

### قسم الخيارات والإعدادات (الجزء الجانبي أو تبويب)
- **إعدادات الإغلاق**:
  - خيار توزيع الأرباح
  - خيار ترحيل أرصدة البنود المفتوحة
  - خيار ترحيل أرصدة المشاريع المستمرة
  - طريقة ترحيل بيانات العملاء والموردين
  - إعدادات حفظ البيانات التاريخية
  - مستوى التفصيل في قيود الافتتاح
  - خيارات تدوير الأرصدة
  - معالجة فروقات العملات
- **الخيارات المتقدمة**:
  - استراتيجية معالجة الأخطاء
  - سياسة الإلغاء والتراجع
  - إعدادات النسخ الاحتياطي
  - التنبيهات والإشعارات
  - معالجة العمليات الكبيرة
  - الجدولة والتوقيت
  - سياسة الأمان والمصادقة

### قسم التقارير والنتائج (الجزء السفلي)
- **التقارير المتاحة**:
  - تقرير ملخص عملية الإغلاق
  - تقرير الميزانية العمومية النهائية
  - تقرير قائمة الدخل النهائية
  - تقرير الأرصدة المرحلة
  - تقرير تدقيق العمليات
  - تقرير الحسابات المتأثرة
  - تقرير الاستثناءات والتعديلات
- **خيارات التصدير**:
  - تصدير التقارير بتنسيقات مختلفة (PDF، Excel)
  - أرشفة البيانات المالية
  - توليد تقارير الضرائب والجهات الرقابية

### شريط الحالة (أسفل الشاشة)
- **معلومات المستخدم**: المستخدم الحالي وصلاحياته
- **حالة النظام**: حالة اتصال قاعدة البيانات والنظام
- **حالة الإغلاق**: مراحل تمت، مراحل متبقية
- **معلومات المراجعة**: آخر نسخة احتياطية، آخر تحقق
- **التاريخ والوقت**: الوقت المتبقي لإكمال العملية

## الوظائف الرئيسية

### إدارة عملية الإغلاق
1. **التخطيط والجدولة لإغلاق السنة**:
   - إنشاء خطة إغلاق للسنة المالية
   - تحديد جدول زمني لمراحل الإغلاق
   - تعيين المسؤوليات والصلاحيات لمختلف المراحل
   - تحديد الفترات الزمنية لكل خطوة
   - تهيئة البيئة والإعدادات
   - إعداد نماذج التقارير المطلوبة
   - إشعار المستخدمين بالإغلاق المقرر

2. **التحقق والتجهيز قبل الإغلاق**:
   - التحقق من إقفال جميع الفترات المحاسبية للسنة
   - التأكد من توازن جميع القيود المحاسبية
   - مراجعة المعاملات المعلقة والمعالجة
   - التحقق من تسوية الحسابات البنكية
   - مراجعة حسابات العملاء والموردين
   - التحقق من اكتمال عمليات الجرد والتسويات
   - إنشاء نسخة احتياطية قبل البدء في الإغلاق

3. **النسخ الاحتياطي وتأمين البيانات**:
   - إنشاء نسخة احتياطية كاملة لقاعدة البيانات
   - حفظ البيانات المالية بصيغ متعددة
   - تحديد استراتيجية الاستعادة في حالة الفشل
   - تنفيذ سياسات حماية البيانات المالية
   - توثيق إجراءات النسخ الاحتياطي
   - أرشفة التقارير والمستندات المالية الرئيسية
   - تخزين آمن للبيانات الاحتياطية

### مراحل إغلاق السنة المالية
1. **إجراء التسويات النهائية**:
   - احتساب وتسجيل مخصصات نهاية السنة
   - تسجيل الإهلاك للأصول الثابتة
   - معالجة فروقات تقييم العملات الأجنبية
   - إجراء تسويات المخزون والبضاعة
   - تسجيل المصروفات المستحقة
   - تسجيل الإيرادات المؤجلة
   - إنشاء المخصصات المالية اللازمة

2. **إقفال الحسابات المؤقتة**:
   - إقفال حسابات الإيرادات
   - إقفال حسابات المصروفات
   - تحويل أرصدة الحسابات المؤقتة إلى حساب الأرباح والخسائر
   - احتساب صافي ربح أو خسارة السنة
   - إقفال حسابات التكاليف
   - تصفير أرصدة الحسابات المؤقتة
   - إعداد تقارير الإقفال للحسابات المؤقتة

3. **احتساب وتوزيع الأرباح**:
   - احتساب صافي الربح القابل للتوزيع
   - تخصيص الاحتياطيات القانونية والإلزامية
   - تخصيص احتياطيات اختيارية
   - توزيع الأرباح حسب قرارات الإدارة
   - ترحيل الأرباح المبقاة
   - تسجيل توزيعات الأرباح
   - إعداد تقارير الأرباح وتوزيعاتها

4. **ترحيل الأرصدة وفتح السنة الجديدة**:
   - ترحيل أرصدة الحسابات الدائمة للسنة الجديدة
   - إنشاء قيود افتتاحية للسنة المالية الجديدة
   - ترحيل أرصدة العملاء والموردين
   - ترحيل أرصدة المخزون
   - ترحيل تفاصيل الأصول الثابتة وإهلاكاتها
   - ضبط ترقيم المستندات للسنة الجديدة
   - إعداد تقارير الأرصدة الافتتاحية للسنة الجديدة

### إجراءات الإغلاق النهائي
1. **التحقق النهائي والموافقة**:
   - التحقق من صحة جميع الإجراءات السابقة
   - مراجعة الميزانية العمومية النهائية
   - التأكد من التوازن المحاسبي الكامل
   - الحصول على موافقات المصادقة اللازمة
   - توثيق الموافقات والمصادقات
   - إجراء مراجعة نهائية للقوائم المالية
   - التحقق من اكتمال جميع مراحل الإغلاق

2. **الإغلاق النهائي والقفل**:
   - تنفيذ الإغلاق النهائي للسنة المالية
   - منع أي تعديلات لاحقة على بيانات السنة المغلقة
   - تطبيق قفل النظام للسنة المالية
   - توثيق عملية الإغلاق بشكل كامل
   - تسجيل تاريخ ووقت الإغلاق والمستخدم المسؤول
   - تطبيق إجراءات الحماية للبيانات المغلقة
   - إعداد تقارير التدقيق والمراجعة للإغلاق

3. **تهيئة السنة المالية الجديدة**:
   - فتح الفترات المحاسبية للسنة الجديدة
   - إعداد الموازنات التقديرية
   - تكوين الإعدادات والمعايير للسنة الجديدة
   - تحديث معدلات الضرائب والرسوم
   - نقل البنود المفتوحة إلى السنة الجديدة
   - تهيئة أرقام تسلسلية جديدة للمستندات
   - إعداد نماذج وتقارير السنة الجديدة

### التقارير وتحليل الأداء المالي
1. **إنشاء التقارير المالية النهائية**:
   - إنشاء الميزانية العمومية النهائية
   - إعداد قائمة الدخل النهائية
   - إعداد قائمة التدفقات النقدية
   - إعداد قائمة التغيرات في حقوق الملكية
   - إنشاء تقارير الأرباح والخسائر التفصيلية
   - إعداد تقارير الإفصاح المالي
   - إنشاء التقارير الضريبية المطلوبة

2. **تحليل الأداء المالي السنوي**:
   - تحليل النسب المالية الرئيسية
   - مقارنة النتائج الفعلية مع الموازنات
   - تحليل اتجاهات الأداء المالي
   - تحديد نقاط القوة والضعف في الأداء
   - إعداد تقارير مقارنة مع السنوات السابقة
   - تحليل ربحية المنتجات والخدمات
   - قياس الأداء المالي للوحدات والفروع

3. **تقارير المراجعة والتدقيق**:
   - إعداد تقارير تدقيق سجل عمليات الإغلاق
   - إنشاء تقارير الاستثناءات والتعديلات
   - توثيق مسار المراجعة الكامل
   - إعداد تقارير المخالفات والأخطاء
   - تقارير الالتزام بالمعايير المحاسبية
   - إنشاء تقارير متابعة إجراءات التصحيح
   - تقارير تقييم الضوابط الداخلية

## مكونات طبقة التطبيق

### الكيانات (Entities)
1. **الكيانات الرئيسية**:
   - `FiscalYear`: كيان السنة المالية الذي يحتوي على معلوماتها الأساسية
   - `FiscalPeriod`: كيان الفترة المحاسبية ضمن السنة المالية
   - `ClosingPhase`: كيان مرحلة الإغلاق الذي يسجل حالة كل مرحلة
   - `ClosingLog`: كيان سجل الإغلاق لتتبع عمليات الإغلاق
   - `ClosingProcess`: كيان عملية الإغلاق الرئيسية
   - `FiscalYearSettings`: كيان إعدادات السنة المالية
   - `ClosingTemplate`: كيان قالب الإغلاق لتخزين قوالب إجراءات الإغلاق

2. **كيانات العلاقات**:
   - `AccountBalance`: كيان أرصدة الحسابات
   - `ClosingAdjustment`: كيان تسويات الإغلاق
   - `ProfitDistribution`: كيان توزيعات الأرباح
   - `ClosingApproval`: كيان موافقات الإغلاق
   - `OpeningBalanceEntry`: كيان سجلات الأرصدة الافتتاحية
   - `YearEndReport`: كيان تقارير نهاية السنة
   - `AccountRelocation`: كيان نقل أرصدة الحسابات

3. **كيانات التكوين**:
   - `ClosingStrategy`: كيان استراتيجية الإغلاق
   - `BalanceTransferRule`: كيان قواعد نقل الأرصدة
   - `ClosingWorkflow`: كيان سير عمل الإغلاق
   - `VerificationCriteria`: كيان معايير التحقق
   - `ClosingNotification`: كيان إشعارات الإغلاق
   - `BackupConfiguration`: كيان تكوين النسخ الاحتياطي
   - `AuditRequirement`: كيان متطلبات التدقيق

### الأوامر (Commands)
1. **أوامر الإعداد**:
   - `InitiateYearClosingCommand`: بدء عملية إغلاق السنة
     
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم لبدء عملية إغلاق السنة
     - التحقق من حالة السنة المالية وأنها نشطة
     - التأكد من إغلاق جميع الفترات المحاسبية للسنة
     - التحقق من وجود سنة مالية جديدة مُعَرَّفة
     - إنشاء سجل عملية إغلاق جديد
     - تكوين خطة الإغلاق وتحديد المراحل الضرورية
     - تسجيل بداية العملية في سجل المراجعة

   - `ConfigureClosingSettingsCommand`: تكوين إعدادات الإغلاق
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم لتكوين إعدادات الإغلاق
     - التحقق من صحة الإعدادات المدخلة
     - التأكد من توافق الإعدادات مع السياسات المحاسبية
     - حفظ الإعدادات في سجل إعدادات الإغلاق
     - تطبيق التغييرات على خطة الإغلاق
     - تحديث سير العمل بناءً على الإعدادات الجديدة
     - تسجيل التغييرات في سجل المراجعة

   - `SetupClosingPhasesCommand`: إعداد مراحل الإغلاق
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم لإعداد مراحل الإغلاق
     - التحقق من تسلسل المراحل المنطقي
     - التأكد من تغطية جميع العمليات المطلوبة
     - تعيين شروط بدء ونهاية كل مرحلة
     - تحديد الخطوات الإلزامية والاختيارية
     - تكوين التبعيات بين المراحل المختلفة
     - تسجيل هيكل المراحل في سجل المراجعة

2. **أوامر التنفيذ**:
   - `PerformBackupCommand`: تنفيذ النسخ الاحتياطي
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم لتنفيذ النسخ الاحتياطي
     - التحقق من توفر مساحة تخزين كافية
     - تنفيذ عملية النسخ الاحتياطي الكاملة للبيانات
     - التحقق من اكتمال النسخ بنجاح
     - توثيق تفاصيل النسخ الاحتياطي (الحجم، الموقع، التاريخ)
     - اختبار قابلية استعادة النسخة الاحتياطية
     - تسجيل عملية النسخ في سجل المراجعة

   - `VerifyClosingReadinessCommand`: التحقق من جاهزية الإغلاق
   
     **منطق الأعمال والتحققات**:
     - التحقق من إقفال جميع الفترات المحاسبية
     - فحص توازن جميع القيود المحاسبية للسنة
     - التحقق من اكتمال تسويات نهاية السنة
     - فحص حالة الحسابات البنكية والتسويات البنكية
     - التحقق من حالة حسابات العملاء والموردين
     - فحص العمليات المعلقة وغير المكتملة
     - توليد تقرير مفصل بنتائج التحقق والمشكلات المحتملة

   - `CloseTemporaryAccountsCommand`: إغلاق الحسابات المؤقتة
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم لإغلاق الحسابات
     - التحقق من اكتمال جميع التسويات اللازمة
     - تحديد الحسابات المؤقتة (إيرادات، مصروفات، متاجرة)
     - إنشاء قيود إقفال الحسابات المؤقتة في حساب الأرباح والخسائر
     - التحقق من توازن قيود الإقفال
     - تصفير أرصدة الحسابات المؤقتة
     - توثيق عملية الإقفال وإنشاء تقرير الحسابات المقفلة

3. **أوامر الإدارة**:
   - `CancelClosingProcessCommand`: إلغاء عملية الإغلاق
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم لإلغاء عملية الإغلاق
     - التحقق من حالة عملية الإغلاق الحالية
     - التأكد من إمكانية إلغاء العملية في المرحلة الحالية
     - تنفيذ خطوات إلغاء المراحل المكتملة (إذا أمكن)
     - استعادة حالة النظام قبل بدء عملية الإغلاق
     - تسجيل سبب الإلغاء والمستخدم المسؤول
     - إرسال إشعارات للمستخدمين المعنيين بالإلغاء

   - `ApproveClosingPhaseCommand`: الموافقة على مرحلة إغلاق
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم للموافقة على المرحلة
     - التحقق من اكتمال جميع الخطوات المطلوبة في المرحلة
     - التأكد من عدم وجود أخطاء أو تحذيرات تمنع الموافقة
     - تسجيل بيانات الموافقة (المستخدم، التاريخ، الملاحظات)
     - تحديث حالة المرحلة إلى "موافق عليها"
     - تفعيل المرحلة التالية إذا كانت جميع الشروط مستوفاة
     - تسجيل عملية الموافقة في سجل المراجعة

### الاستعلامات (Queries)
1. **استعلامات الحالة**:
   - `GetFiscalYearStatusQuery`: استعلام عن حالة السنة المالية
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم للوصول لمعلومات السنة المالية
     - استرجاع بيانات حالة السنة المالية المحددة
     - التحقق من وجود السنة المالية في النظام
     - استرجاع معلومات الفترات المحاسبية المرتبطة
     - حساب المؤشرات المالية الأساسية للسنة
     - تحديد الحالة العامة للسنة المالية (نشطة، قيد الإغلاق، مغلقة)
     - تطبيق تصفية البيانات حسب صلاحيات المستخدم

   - `GetClosingProcessStatusQuery`: استعلام عن حالة عملية الإغلاق
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم للوصول لمعلومات عملية الإغلاق
     - استرجاع بيانات عملية الإغلاق الحالية أو المحددة
     - استرجاع حالة كل مرحلة من مراحل الإغلاق
     - حساب نسبة الإنجاز الإجمالية للعملية
     - تحديد أي عوائق أو مشكلات في العملية
     - استرجاع سجل الأحداث المرتبط بالعملية
     - تطبيق تصفية البيانات حسب صلاحيات المستخدم

   - `GetVerificationResultsQuery`: استعلام عن نتائج التحقق
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم للوصول لنتائج التحقق
     - استرجاع نتائج عمليات التحقق المنفذة
     - تصنيف النتائج حسب النوع (أخطاء، تحذيرات، معلومات)
     - تحديد المشكلات التي تمنع الإغلاق
     - استرجاع توصيات لحل المشكلات المكتشفة
     - تطبيق تصفية النتائج حسب المعايير المحددة
     - تجميع إحصائيات حول نتائج التحقق

2. **استعلامات البيانات**:
   - `GetAccountBalancesQuery`: استعلام عن أرصدة الحسابات
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم للوصول لأرصدة الحسابات
     - تحديد نوع الحسابات المطلوبة (دائمة، مؤقتة، الكل)
     - استرجاع أرصدة الحسابات في نهاية السنة المالية
     - تطبيق تصفية حسب دليل الحسابات أو مراكز التكلفة
     - حساب الإجماليات والمجاميع الفرعية
     - مقارنة الأرصدة مع بداية السنة أو الفترات السابقة
     - تطبيق تصفية البيانات حسب صلاحيات المستخدم

   - `GetProfitLossCalculationQuery`: استعلام عن حساب الأرباح والخسائر
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم للوصول لحساب الأرباح والخسائر
     - استرجاع بيانات الإيرادات والمصروفات للسنة المالية
     - حساب إجمالي الإيرادات وإجمالي المصروفات
     - احتساب صافي الربح أو الخسارة
     - تحليل مكونات الأرباح حسب الأنشطة المختلفة
     - تطبيق السياسات المحاسبية على احتساب الأرباح
     - استرجاع بيانات مقارنة مع السنوات السابقة

   - `GetOpeningBalancesQuery`: استعلام عن الأرصدة الافتتاحية
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم للوصول للأرصدة الافتتاحية
     - استرجاع الأرصدة الافتتاحية المحسوبة للسنة الجديدة
     - التحقق من توازن الأرصدة الافتتاحية
     - تصنيف الأرصدة حسب نوع الحساب
     - مقارنة الأرصدة الافتتاحية مع أرصدة نهاية السنة السابقة
     - تحديد أي تعديلات تمت على الأرصدة الافتتاحية
     - تطبيق تصفية البيانات حسب صلاحيات المستخدم

3. **استعلامات التقارير**:
   - `GenerateFinalBalanceSheetQuery`: استعلام لإنشاء الميزانية العمومية النهائية
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم لإنشاء الميزانية العمومية
     - التأكد من إجراء جميع التسويات والإقفالات اللازمة
     - استرجاع بيانات الأصول والخصوم وحقوق الملكية
     - تطبيق تنسيق الميزانية المعتمد في النظام
     - التحقق من توازن الميزانية (الأصول = الخصوم + حقوق الملكية)
     - مقارنة الميزانية مع الفترات السابقة إذا طلب
     - تطبيق متطلبات الإفصاح المحاسبي على التقرير

   - `GenerateClosingAuditReportQuery`: استعلام لإنشاء تقرير تدقيق الإغلاق
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم لإنشاء تقرير التدقيق
     - استرجاع سجل كامل لعمليات الإغلاق المنفذة
     - تتبع جميع الإجراءات والتغييرات خلال عملية الإغلاق
     - توثيق المستخدمين المشاركين والإجراءات التي نفذوها
     - تحديد أي استثناءات أو إجراءات خاصة تمت خلال الإغلاق
     - استرجاع نتائج عمليات التحقق والمراجعة
     - تنظيم المعلومات حسب مراحل الإغلاق

   - `GenerateBalanceTransferReportQuery`: استعلام لإنشاء تقرير نقل الأرصدة
   
     **منطق الأعمال والتحققات**:
     - التحقق من صلاحيات المستخدم لإنشاء تقرير نقل الأرصدة
     - استرجاع بيانات الأرصدة المنقولة من السنة المنتهية
     - مقارنة أرصدة الإغلاق مع الأرصدة الافتتاحية
     - تحديد أي تعديلات تمت على الأرصدة أثناء النقل
     - توثيق آلية نقل الأرصدة المستخدمة
     - تصنيف الأرصدة المنقولة حسب نوع الحساب
     - التحقق من اكتمال ودقة عملية نقل الأرصدة

## ملاحظات تقنية إضافية

1. **أمان البيانات**:
   - تطبيق صلاحيات متعددة المستويات لضمان أن عمليات الإغلاق تتم من قبل المستخدمين المخولين فقط
   - تشفير البيانات المالية الحساسة أثناء عملية النسخ الاحتياطي
   - تسجيل جميع الإجراءات في سجل المراجعة مع تفاصيل كاملة (المستخدم، الوقت، العملية)
   - فرض التحقق متعدد العوامل للموافقة على مراحل الإغلاق الحساسة
   - تطبيق سياسات قفل البيانات بعد الإغلاق لمنع التعديلات غير المصرح بها

2. **أداء النظام**:
   - استخدام تنفيذ العمليات على دفعات لمعالجة كميات كبيرة من القيود والحسابات
   - تنفيذ المراحل المستقلة بشكل متوازي لتحسين زمن الإغلاق
   - جدولة عمليات الإغلاق الثقيلة في أوقات منخفضة الاستخدام
   - استخدام مؤشرات قاعدة البيانات المناسبة لعمليات البحث والاستعلام المتكررة
   - تحسين استراتيجيات ذاكرة التخزين المؤقت لتسريع الوصول للبيانات المتكررة الاستخدام

3. **تجربة المستخدم**:
   - تقديم تعليمات وإرشادات مرئية واضحة في كل مرحلة من مراحل الإغلاق
   - عرض تقدم العملية بشكل مرئي لتسهيل المتابعة
   - توفير رسائل خطأ وتحذير دقيقة ومفهومة مع اقتراح حلول
   - إمكانية حفظ واستعادة حالة الإغلاق في أي مرحلة
   - تبسيط عملية التنقل بين مراحل الإغلاق المختلفة

4. **التكامل والتوسعة**:
   - دعم معايير محاسبية مختلفة (IFRS, GAAP) في عمليات الإغلاق
   - واجهات برمجية (APIs) لتكامل عمليات الإغلاق مع أنظمة خارجية
   - قابلية التخصيص لتلبية متطلبات القطاعات المختلفة
   - دعم إضافة خطوات وعمليات مخصصة ضمن إطار الإغلاق
   - تكامل مع أدوات التحليل الخارجية للبيانات المالية

5. **استراتيجيات التعافي من الأخطاء**:
   - آليات التراجع التلقائي في حالة فشل أي مرحلة من مراحل الإغلاق
   - استراتيجيات استعادة متعددة المستويات لمختلف سيناريوهات الفشل
   - نظام نسخ احتياطي متعدد المراحل يحفظ حالة النظام عند كل مرحلة رئيسية
   - خيارات لاستكمال العملية من نقطة الفشل دون إعادة البدء
   - سجل تفصيلي للأخطاء لتسهيل تشخيص المشكلات وحلها

6. **مرونة التكوين**:
   - إمكانية تخصيص مراحل وخطوات الإغلاق حسب متطلبات المؤسسة
   - مرونة في إعداد السياسات المحاسبية المطبقة أثناء الإغلاق
   - خيارات متعددة لترحيل الأرصدة وتوزيع الأرباح
   - قابلية تخصيص قوالب التقارير المالية النهائية
   - خيارات لإدارة الفروق والتسويات بطرق مختلفة

## اختصارات لوحة المفاتيح وأزرار الوصول السريع

### اختصارات لوحة المفاتيح
- `F1`: عرض المساعدة الخاصة بشاشة إغلاق السنة المالية
- `F2`: فتح نافذة إعدادات الإغلاق
- `F3`: البحث في سجل الإغلاق
- `F5`: تحديث حالة الإغلاق
- `F6`: عرض التقارير المتاحة
- `F8`: بدء عملية التحقق
- `F9`: بدء عملية النسخ الاحتياطي
- `F10`: بدء عملية الإغلاق
- `Ctrl+S`: حفظ إعدادات الإغلاق
- `Ctrl+P`: طباعة التقرير الحالي
- `Ctrl+B`: إنشاء نسخة احتياطية
- `Ctrl+R`: استعادة من نسخة احتياطية
- `Ctrl+C`: إلغاء العملية الجارية
- `Ctrl+Z`: التراجع عن آخر عملية
- `Alt+N`: الانتقال للمرحلة التالية
- `Alt+P`: الرجوع للمرحلة السابقة

### أزرار الوصول السريع
- **زر الإغلاق السريع**: بدء عملية الإغلاق بالإعدادات الافتراضية
- **زر التحقق الشامل**: إجراء عملية تحقق شاملة من جاهزية الإغلاق
- **زر النسخ الاحتياطي الفوري**: إنشاء نسخة احتياطية فورية
- **زر تقارير السنة**: عرض جميع تقارير نهاية السنة
- **زر الموافقات**: عرض حالة الموافقات المطلوبة
- **زر استعراض المراحل**: استعراض جميع مراحل الإغلاق
- **زر مراقبة التقدم**: فتح نافذة مراقبة تقدم عملية الإغلاق
- **زر إلغاء الطوارئ**: إلغاء الإغلاق فوراً في حالات الطوارئ