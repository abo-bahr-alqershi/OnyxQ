# شاشة إعدادات الشركة (Company Settings)

## نظرة عامة
شاشة إعدادات الشركة هي واجهة رئيسية في نظام الأونكس برو ERP تمكن المستخدمين من إدارة المعلومات الأساسية للشركة وتكوين الإعدادات العامة للنظام. تعتبر هذه الشاشة نقطة البداية لإعداد النظام، حيث يتم فيها تعريف هوية المنشأة وإعداداتها الأساسية التي تؤثر على جميع وحدات النظام وتطبيقاته.

## مكونات واجهة المستخدم

### القسم العلوي (معلومات الشركة الأساسية)
- **اسم الشركة**: الاسم الرسمي للشركة بالعربية
- **اسم الشركة بالإنجليزية**: الاسم الرسمي للشركة بالإنجليزية
- **الشعار**: شعار الشركة (صورة يمكن تحميلها)
- **رقم السجل التجاري**: رقم السجل التجاري للشركة
- **تاريخ السجل التجاري**: تاريخ إصدار السجل التجاري
- **الرقم الضريبي**: رقم التسجيل الضريبي للشركة
- **تاريخ التسجيل الضريبي**: تاريخ التسجيل الضريبي
- **الشكل القانوني**: الشكل القانوني للشركة (شركة مساهمة، ذات مسؤولية محدودة، فردية، إلخ)
- **رأس المال**: قيمة رأس مال الشركة
- **عملة رأس المال**: العملة المستخدمة لتمثيل رأس المال

### قسم معلومات الاتصال
- **العنوان**: العنوان الرئيسي للشركة
- **المدينة**: المدينة التي توجد بها الشركة
- **المنطقة/المحافظة**: المنطقة أو المحافظة
- **الدولة**: الدولة التي توجد بها الشركة
- **الرمز البريدي**: الرمز البريدي للشركة
- **صندوق البريد**: رقم صندوق البريد
- **رقم الهاتف الرئيسي**: رقم الهاتف الرئيسي للشركة
- **رقم الهاتف الثانوي**: رقم هاتف بديل
- **رقم الفاكس**: رقم الفاكس الخاص بالشركة
- **البريد الإلكتروني**: عنوان البريد الإلكتروني الرسمي للشركة
- **الموقع الإلكتروني**: عنوان الموقع الإلكتروني للشركة

### قسم معلومات الممثل القانوني
- **اسم الممثل القانوني**: اسم مالك الشركة أو المدير المفوض
- **المنصب**: منصب الممثل القانوني
- **رقم الهوية**: رقم الهوية الشخصية للممثل القانوني
- **نوع الهوية**: نوع وثيقة الهوية (هوية وطنية، جواز سفر، إقامة)
- **رقم الجوال**: رقم الهاتف المحمول للممثل القانوني
- **البريد الإلكتروني**: البريد الإلكتروني للممثل القانوني

### قسم الإعدادات المالية والمحاسبية
- **العملة الأساسية**: عملة الأساس المستخدمة في النظام
- **العملات الثانوية**: العملات الإضافية المستخدمة في المعاملات
- **السنة المالية**: تحديد بداية ونهاية السنة المالية
- **نوع السنة المالية**: ميلادية أو هجرية
- **عدد الفترات المحاسبية**: عدد الفترات المحاسبية في السنة (شهرية، ربع سنوية، إلخ)
- **سياسة تدوير الأرقام**: كيفية تدوير الأرقام في العمليات الحسابية
- **عدد الخانات العشرية**: عدد الخانات العشرية المعتمدة في العرض
- **سياسة تقريب المبالغ**: طريقة تقريب المبالغ المالية
- **طريقة عرض الأرصدة**: مدين/دائن أو موجب/سالب
- **تفعيل تدقيق توازن القيود**: تحقق آلي من توازن القيود المحاسبية
- **تفعيل منع القيود غير المتوازنة**: منع حفظ القيود غير المتوازنة
- **حساب فروق العملة**: الحساب الافتراضي لفروق العملة
- **حساب فروق التدوير**: الحساب الافتراضي لفروق التدوير
- **قفل الفترات المحاسبية السابقة تلقائياً**: خيار للقفل التلقائي للفترات السابقة
- **مدة سماح تعديل القيود المحاسبية**: المدة المسموح بها لتعديل القيود بعد إنشائها

### قسم إعدادات الترقيم التلقائي
- **بادئة ترقيم الحسابات**: البادئة المستخدمة في ترقيم الحسابات الجديدة
- **بادئة ترقيم القيود**: البادئة المستخدمة في ترقيم القيود
- **بادئة ترقيم الفواتير**: البادئة المستخدمة في ترقيم الفواتير
- **بادئة ترقيم العملاء**: البادئة المستخدمة في ترقيم العملاء
- **بادئة ترقيم الموردين**: البادئة المستخدمة في ترقيم الموردين
- **بادئة ترقيم الموظفين**: البادئة المستخدمة في ترقيم الموظفين
- **بادئة ترقيم الأصناف**: البادئة المستخدمة في ترقيم الأصناف
- **طول الأرقام**: عدد الخانات الرقمية في كل نوع ترقيم
- **إعادة تعيين الترقيم**: متى تتم إعادة الترقيم (سنوياً، شهرياً، يومياً، أبداً)
- **فصل ترقيم الفروع**: هل يكون لكل فرع تسلسل ترقيم منفصل

### قسم إعدادات المستخدمين والصلاحيات
- **سياسة تعقيد كلمة المرور**: متطلبات تعقيد كلمة المرور (طول، أحرف خاصة، إلخ)
- **فترة صلاحية كلمة المرور**: المدة التي تنتهي بعدها صلاحية كلمة المرور
- **عدد محاولات تسجيل الدخول**: عدد المحاولات المسموح بها قبل قفل الحساب
- **مدة قفل الحساب**: مدة قفل الحساب بعد تجاوز عدد محاولات تسجيل الدخول
- **تفعيل المصادقة الثنائية**: تفعيل خيار المصادقة الثنائية للمستخدمين
- **تفعيل تسجيل الخروج التلقائي**: قفل النظام تلقائياً بعد فترة من الخمول
- **مدة الخمول قبل القفل**: المدة الزمنية للخمول قبل تسجيل الخروج التلقائي
- **تفعيل سجل المراجعة**: تسجيل جميع العمليات التي يقوم بها المستخدمون
- **تفعيل مراقبة تغييرات البيانات**: تسجيل التغييرات على البيانات المهمة
- **تصفية الوصول حسب الفروع**: تقييد وصول المستخدمين حسب الفروع المحددة

### قسم إعدادات النظام
- **اللغة الافتراضية**: اللغة الافتراضية لواجهة النظام
- **المظهر الافتراضي**: نمط الألوان الافتراضي (فاتح، داكن، مخصص)
- **تفعيل الإشعارات**: تفعيل نظام الإشعارات للمستخدمين
- **تفعيل المهام**: تفعيل نظام إدارة المهام والتذكيرات
- **تفعيل الرسائل الداخلية**: تفعيل نظام الرسائل الداخلية بين المستخدمين
- **الصفحة الرئيسية الافتراضية**: الصفحة التي تظهر عند تسجيل الدخول
- **عدد العناصر بالصفحة**: عدد العناصر الافتراضي في صفحات العرض
- **تفعيل نسخ احتياطي تلقائي**: تفعيل النسخ الاحتياطي التلقائي للبيانات
- **جدول النسخ الاحتياطي**: توقيت وتكرار النسخ الاحتياطي
- **موقع حفظ النسخ الاحتياطي**: مسار حفظ ملفات النسخ الاحتياطي
- **عدد نسخ الاحتفاظ**: عدد النسخ الاحتياطية التي يتم الاحتفاظ بها

### قسم إعدادات البريد والإشعارات
- **خادم البريد الإلكتروني (SMTP)**: عنوان خادم البريد الصادر
- **منفذ SMTP**: رقم المنفذ المستخدم للاتصال بخادم البريد
- **بروتوكول الأمان**: نوع بروتوكول الأمان (SSL/TLS)
- **اسم المستخدم للبريد**: اسم المستخدم للحساب المرسل
- **كلمة مرور البريد**: كلمة المرور للحساب المرسل
- **عنوان البريد المرسل**: عنوان البريد الإلكتروني الظاهر كمرسل
- **اسم المرسل**: الاسم الظاهر للمرسل
- **بريد استلام الإشعارات**: عنوان البريد لاستلام إشعارات النظام
- **قوالب الإشعارات**: قوالب البريد الإلكتروني المستخدمة للإشعارات المختلفة

### قسم إعدادات الضرائب
- **رقم التسجيل الضريبي**: رقم التسجيل الضريبي للشركة
- **تفعيل ضريبة القيمة المضافة**: تفعيل حساب ضريبة القيمة المضافة
- **نسبة ضريبة القيمة المضافة**: النسبة المئوية لضريبة القيمة المضافة
- **حساب ضريبة القيمة المضافة المدخلات**: الحساب المخصص لضريبة المدخلات
- **حساب ضريبة القيمة المضافة المخرجات**: الحساب المخصص لضريبة المخرجات
- **حساب الضريبة المستحقة**: الحساب المخصص للضريبة المستحقة
- **تفعيل ضرائب أخرى**: تفعيل أنواع أخرى من الضرائب
- **إعدادات ضريبة الدخل**: إعدادات خاصة بضريبة الدخل
- **إعدادات الضريبة الانتقائية**: إعدادات خاصة بالضريبة الانتقائية
- **اشتراطات الفاتورة الإلكترونية**: إعدادات متعلقة بالفاتورة الإلكترونية
- **طريقة تقريب الضريبة**: كيفية تقريب قيمة الضريبة المحسوبة
- **عرض الأسعار شامل الضريبة**: هل تعرض الأسعار شاملة الضريبة افتراضياً
- **فترة تقديم الإقرار الضريبي**: الفترة الزمنية لتقديم الإقرار الضريبي

### علامات التبويب الفرعية
- **الفروع والمستودعات**: إدارة فروع الشركة ومستودعاتها
- **مراكز التكلفة**: إدارة مراكز التكلفة
- **الإعدادات المتقدمة**: إعدادات إضافية متقدمة
- **النماذج والتقارير**: إعدادات طباعة النماذج والتقارير
- **الواجهة والتخصيص**: إعدادات تخصيص واجهة المستخدم
- **الربط الخارجي**: إعدادات الربط مع أنظمة خارجية

### شريط الأدوات
- زر حفظ الإعدادات
- زر إلغاء التغييرات
- زر استعادة الإعدادات الافتراضية
- زر تصدير الإعدادات
- زر استيراد الإعدادات
- زر المساعدة

## الشاشات الفرعية

### شاشة إدارة الفروع
- **قائمة الفروع**: عرض جميع فروع الشركة
- **إضافة فرع جديد**: إضافة فرع جديد للشركة
- **تعديل فرع**: تعديل معلومات فرع موجود
- **تفعيل/تعطيل فرع**: تغيير حالة الفرع
- **تعيين الفرع الرئيسي**: تحديد الفرع الرئيسي للشركة
- **ربط الفرع بالمستخدمين**: تحديد المستخدمين المسموح لهم بالوصول لكل فرع

#### حقول معلومات الفرع
- **رمز الفرع**: الرمز الفريد للفرع
- **اسم الفرع**: اسم الفرع بالعربية
- **اسم الفرع بالإنجليزية**: اسم الفرع بالإنجليزية
- **نوع الفرع**: تصنيف الفرع (رئيسي، فرعي، مستودع، نقطة بيع)
- **العنوان**: عنوان الفرع
- **المدينة**: المدينة التي يقع فيها الفرع
- **الدولة**: الدولة التي يقع فيها الفرع
- **الرمز البريدي**: الرمز البريدي للفرع
- **رقم الهاتف**: رقم هاتف الفرع
- **البريد الإلكتروني**: البريد الإلكتروني الخاص بالفرع
- **مدير الفرع**: الشخص المسؤول عن الفرع
- **رقم السجل التجاري**: رقم السجل التجاري الخاص بالفرع (إن وجد)
- **الرقم الضريبي**: الرقم الضريبي الخاص بالفرع (إن وجد)
- **تاريخ التأسيس**: تاريخ تأسيس الفرع
- **الوضع**: حالة الفرع (نشط، معطل، مغلق)
- **ملاحظات**: ملاحظات إضافية عن الفرع

### شاشة إدارة المستودعات
- **قائمة المستودعات**: عرض جميع مستودعات الشركة
- **إضافة مستودع جديد**: إضافة مستودع جديد
- **تعديل مستودع**: تعديل معلومات مستودع موجود
- **تفعيل/تعطيل مستودع**: تغيير حالة المستودع
- **ربط المستودع بالفروع**: تحديد الفروع التي يتبع لها المستودع
- **ربط المستودع بالمستخدمين**: تحديد المستخدمين المسموح لهم بالوصول لكل مستودع

#### حقول معلومات المستودع
- **رمز المستودع**: الرمز الفريد للمستودع
- **اسم المستودع**: اسم المستودع بالعربية
- **اسم المستودع بالإنجليزية**: اسم المستودع بالإنجليزية
- **نوع المستودع**: تصنيف المستودع (رئيسي، فرعي، عبور، خاص)
- **الفرع التابع له**: الفرع الذي يتبع له المستودع
- **العنوان**: موقع المستودع
- **المساحة**: مساحة المستودع
- **السعة**: السعة التخزينية للمستودع
- **أمين المستودع**: الشخص المسؤول عن المستودع
- **رقم الهاتف**: رقم هاتف المستودع أو المسؤول
- **تاريخ التشغيل**: تاريخ بدء تشغيل المستودع
- **الوضع**: حالة المستودع (نشط، معطل، تحت الصيانة)
- **ملاحظات**: ملاحظات إضافية عن المستودع

### شاشة إدارة مراكز التكلفة
- **قائمة مراكز التكلفة**: عرض جميع مراكز التكلفة
- **إضافة مركز تكلفة جديد**: إضافة مركز تكلفة جديد
- **تعديل مركز تكلفة**: تعديل معلومات مركز تكلفة موجود
- **تفعيل/تعطيل مركز تكلفة**: تغيير حالة مركز التكلفة
- **هيكل مراكز التكلفة**: عرض وتنظيم الهيكل الهرمي لمراكز التكلفة

#### حقول معلومات مركز التكلفة
- **رمز المركز**: الرمز الفريد لمركز التكلفة
- **اسم المركز**: اسم مركز التكلفة بالعربية
- **اسم المركز بالإنجليزية**: اسم مركز التكلفة بالإنجليزية
- **المركز الأب**: مركز التكلفة الأعلى في التسلسل الهرمي
- **مستوى المركز**: مستوى المركز في التسلسل الهرمي
- **نوع المركز**: تصنيف المركز (إداري، إنتاجي، تسويقي، إلخ)
- **الميزانية**: الميزانية المخصصة لمركز التكلفة
- **المسؤول**: الشخص المسؤول عن مركز التكلفة
- **تاريخ البدء**: تاريخ بدء عمل مركز التكلفة
- **تاريخ الانتهاء**: تاريخ انتهاء عمل مركز التكلفة (إن وجد)
- **الوضع**: حالة مركز التكلفة (نشط، معطل، مؤقت)
- **ملاحظات**: ملاحظات إضافية عن مركز التكلفة

### شاشة النماذج والتقارير
- **إعدادات الطباعة الافتراضية**: إعدادات الطباعة العامة
- **تخصيص النماذج**: تخصيص نماذج المستندات (فواتير، سندات، تقارير)
- **تحديد الشعارات والألوان**: إعدادات شعارات وألوان المستندات المطبوعة
- **توقيعات المستندات**: إدارة التوقيعات وأختام الشركة
- **لغة الطباعة الافتراضية**: تحديد اللغة الافتراضية للمستندات المطبوعة
- **تنسيق الأرقام والتواريخ**: تنسيق عرض الأرقام والتواريخ في المطبوعات

### شاشة الربط الخارجي
- **إعدادات الربط البنكي**: إعدادات الربط مع الأنظمة البنكية
- **إعدادات الربط الضريبي**: إعدادات الربط مع أنظمة الضرائب
- **إعدادات ربط التجارة الإلكترونية**: إعدادات الربط مع منصات التجارة الإلكترونية
- **إعدادات API**: إعدادات واجهة برمجة التطبيقات للربط مع أنظمة خارجية
- **تكامل وسائل الدفع**: إعدادات ربط بوابات الدفع الإلكتروني

### شاشة الواجهة والتخصيص
- **الألوان والسمات**: إعدادات ألوان وسمات واجهة المستخدم
- **العناصر المعروضة**: تخصيص العناصر المعروضة في الشاشات المختلفة
- **اختصارات لوحة المفاتيح**: تخصيص اختصارات لوحة المفاتيح
- **القوائم المخصصة**: تخصيص قوائم النظام
- **لوحات المعلومات**: تخصيص لوحات المعلومات والتقارير المرئية

## الوظائف الرئيسية

### إدارة معلومات الشركة
1. **تسجيل المعلومات الأساسية**: إدخال وتحديث البيانات الأساسية للشركة
2. **إدارة الشعار والهوية**: تحميل وتعديل شعار الشركة وعناصر الهوية البصرية
3. **إدارة معلومات الاتصال**: تحديث عناوين ومعلومات اتصال الشركة
4. **إدارة بيانات الممثل القانوني**: تسجيل وتحديث معلومات الممثل القانوني
5. **إدارة الأوراق الرسمية**: تسجيل أرقام وتواريخ السجل التجاري والتسجيل الضريبي

### إدارة الهيكل التنظيمي
1. **إنشاء وإدارة الفروع**: إضافة وتعديل وتفعيل/تعطيل فروع الشركة
2. **إدارة المستودعات**: ربط المستودعات بالفروع وتعيين المسؤولين
3. **إدارة مراكز التكلفة**: إنشاء وتنظيم هيكل مراكز التكلفة
4. **ربط المستخدمين بالفروع**: تحديد صلاحيات الوصول للفروع المختلفة
5. **تعيين المسؤولين**: تحديد المسؤولين عن الفروع ومراكز التكلفة

### إعدادات النظام المالي
1. **إدارة العملات**: تحديد العملة الأساسية والعملات الثانوية
2. **إعدادات السنة المالية**: تحديد بداية ونهاية السنة المالية وعدد الفترات
3. **إعدادات الترقيم**: تكوين نظام الترقيم التلقائي للمستندات والسجلات
4. **إعدادات الضرائب**: تكوين حسابات ونسب الضرائب المختلفة
5. **إعدادات التقريب والخانات العشرية**: تحديد سياسات التقريب وعرض الأرقام
6. **إعدادات القيود المحاسبية**: تحديد قواعد إنشاء وتدقيق القيود المحاسبية

### إعدادات الأمان والمستخدمين
1. **سياسات كلمات المرور**: تحديد متطلبات تعقيد وصلاحية كلمات المرور
2. **سياسات تسجيل الدخول**: تكوين قواعد تسجيل الدخول وقفل الحسابات
3. **إعدادات المصادقة**: إعداد خيارات المصادقة الثنائية وتسجيل الخروج التلقائي
4. **سجلات المراجعة**: تكوين مستوى تسجيل الأحداث والتغييرات في النظام
5. **صلاحيات الفروع**: إعداد قواعد الوصول للفروع المختلفة

### إعدادات النظام العامة
1. **إعدادات اللغة والواجهة**: تخصيص لغة ومظهر واجهة المستخدم
2. **إعدادات الإشعارات**: تكوين نظام الإشعارات والتنبيهات
3. **إعدادات النسخ الاحتياطي**: جدولة وتكوين النسخ الاحتياطي التلقائي
4. **إعدادات البريد الإلكتروني**: تكوين خادم البريد وقوالب الرسائل
5. **تخصيص الصفحة الرئيسية**: إعداد الصفحة الرئيسية الافتراضية وعناصرها

### إعدادات الطباعة والتقارير
1. **تخصيص النماذج**: تخصيص نماذج المستندات المطبوعة
2. **إعدادات التوقيعات والأختام**: إدارة التوقيعات وأختام الشركة
3. **تخصيص التقارير**: تكوين التقارير الافتراضية
4. **تنسيق الأرقام والتواريخ**: تحديد تنسيق عرض الأرقام والتواريخ
5. **خيارات الطباعة**: تحديد إعدادات الطباعة الافتراضية

### إعدادات الربط الخارجي
1. **إعداد الربط البنكي**: تكوين الربط مع الأنظمة البنكية
2. **إعداد الربط الضريبي**: تكوين الربط مع أنظمة الضرائب والفوترة الإلكترونية
3. **تكامل التجارة الإلكترونية**: إعداد الربط مع منصات التجارة الإلكترونية
4. **إعدادات API**: تكوين واجهة برمجة التطبيقات للأنظمة الخارجية
5. **تكامل وسائل الدفع**: إعداد بوابات الدفع الإلكتروني

## العمليات المتقدمة

### إدارة الفروع والمستودعات
- **الهيكل الهرمي للفروع**: إنشاء هيكل هرمي للفروع الرئيسية والفرعية
- **توزيع الصلاحيات**: تحديد صلاحيات مختلفة لكل فرع
- **مزامنة البيانات**: إعداد سياسات مزامنة البيانات بين الفروع
- **التقارير المجمعة**: إعداد تقارير مجمعة على مستوى الفروع
- **القيود المشتركة**: إعداد سياسات القيود المشتركة بين الفروع
- **نقل المخزون**: تكوين قواعد نقل المخزون بين المستودعات
- **الإدارة المركزية**: إعداد سياسات الإدارة المركزية للفروع

### إدارة العملات والتسعير
- **أسعار الصرف**: إعداد سياسات تحديث أسعار الصرف
- **قواعد التحويل**: تحديد قواعد تحويل العملات
- **فروق العملة**: تكوين حسابات وسياسات معالجة فروق العملة
- **تقييم العملات**: تحديد طرق تقييم العملات
- **سياسات التسعير**: إعداد سياسات التسعير متعدد العملات
- **العملات الافتراضية**: تحديد العملات الافتراضية للعملاء والموردين

### إدارة السنة المالية والفترات
- **تكوين السنة المالية**: تحديد بداية ونهاية السنة المالية
- **إنشاء الفترات**: إنشاء وإدارة الفترات المحاسبية
- **قفل الفترات**: إعداد سياسات قفل الفترات المحاسبية
- **إعادة فتح الفترات**: تكوين صلاحيات إعادة فتح الفترات المغلقة
- **ترحيل نهاية السنة**: إعداد إجراءات ترحيل نهاية السنة
- **توليد قيود الافتتاح**: إعداد قواعد توليد قيود افتتاح السنة الجديدة
- **تدوير الأرصدة**: تكوين سياسات تدوير الأرصدة للسنة الجديدة

### إدارة النسخ الاحتياطي واستعادة البيانات
- **النسخ التلقائي**: إعداد جدولة النسخ الاحتياطي التلقائي
- **تخزين النسخ**: تحديد مواقع تخزين النسخ الاحتياطية
- **الاحتفاظ بالنسخ**: تحديد سياسات الاحتفاظ بالنسخ القديمة
- **استعادة البيانات**: تكوين إجراءات استعادة البيانات
- **نسخ جزئية**: إعداد قواعد النسخ الاحتياطي الجزئي
- **تشفير النسخ**: تكوين سياسات تشفير النسخ الاحتياطية
- **الاختبار التلقائي**: إعداد اختبار دوري للنسخ الاحتياطية

### إدارة الضرائب والامتثال
- **ملفات الضرائب**: إعداد ملفات الضرائب المختلفة
- **تقارير الضرائب**: تكوين التقارير الضريبية الدورية
- **الامتثال الضريبي**: إعداد قواعد الامتثال للأنظمة الضريبية
- **الفوترة الإلكترونية**: تكوين متطلبات الفوترة الإلكترونية
- **ضريبة القيمة المضافة**: إعداد تفاصيل ضريبة القيمة المضافة
- **الضرائب المقتطعة**: تكوين قواعد الضرائب المقتطعة
- **الإقرارات الدورية**: إعداد نماذج الإقرارات الدورية

### إدارة أمان النظام
- **مراقبة النشاط**: إعداد مراقبة نشاط المستخدمين
- **تسجيل الأحداث**: تكوين سياسات تسجيل الأحداث
- **النسخ الاحتياطي**: إعداد النسخ الاحتياطي الدوري
- **تشفير البيانات**: تكوين سياسات تشفير البيانات الحساسة
- **الوصول عن بعد**: إعداد قواعد الوصول عن بعد
- **سياسات الجلسات**: تكوين سياسات إدارة جلسات المستخدمين
- **مسح البيانات**: إعداد سياسات مسح البيانات القديمة

### التكامل مع الأنظمة الخارجية
- **الربط البنكي**: إعداد الربط مع الأنظمة البنكية
- **الربط الضريبي**: تكوين الربط مع أنظمة الضرائب
- **منصات التجارة الإلكترونية**: إعداد الربط مع منصات التجارة الإلكترونية
- **أنظمة نقاط البيع**: تكوين التكامل مع أنظمة نقاط البيع
- **أنظمة إدارة المخزون**: إعداد الربط مع أنظمة إدارة المخزون الخارجية
- **منصات الدفع**: تكوين الربط مع منصات الدفع الإلكتروني
- **تبادل البيانات**: إعداد بروتوكولات تبادل البيانات

## الارتباط مع الشاشات الأخرى

- **دليل الحسابات**: ارتباط مع شاشة دليل الحسابات لإعداد الحسابات الافتراضية
- **قيد اليومية**: ارتباط مع شاشة قيد اليومية لإعدادات القيود
- **إدارة المستخدمين**: ارتباط مع شاشة إدارة المستخدمين والصلاحيات
- **إدارة النظام**: ارتباط مع شاشات إدارة النظام المختلفة
- **التقارير المالية**: ارتباط مع شاشات التقارير المالية
- **إدارة الفروع**: ارتباط مع شاشة إدارة الفروع التفصيلية
- **إدارة العملات**: ارتباط مع شاشة إدارة العملات
- **إدارة الضرائب**: ارتباط مع شاشة إدارة الضرائب
- **الفترات المحاسبية**: ارتباط مع شاشة إدارة الفترات المحاسبية
- **نماذج الطباعة**: ارتباط مع شاشة تصميم وإدارة نماذج الطباعة

## مكونات طبقة التطبيق

### الكيانات (Entities)

#### CompanyInfo (معلومات الشركة)
الكيان الرئيسي لتخزين معلومات الشركة:
- رقم التعريف (ID)
- اسم الشركة بالعربية
- اسم الشركة بالإنجليزية
- رقم السجل التجاري
- تاريخ السجل التجاري
- الرقم الضريبي
- الشكل القانوني
- رأس المال
- عملة رأس المال
- معلومات الاتصال
- معلومات الممثل القانوني
- مسار الشعار
- تاريخ التأسيس
- حالة الشركة

#### Branch (الفرع)
كيان يمثل فرع من فروع الشركة:
- رمز الفرع
- اسم الفرع بالعربية
- اسم الفرع بالإنجليزية
- نوع الفرع
- العنوان
- معلومات الاتصال
- مدير الفرع
- رقم السجل التجاري للفرع
- الرقم الضريبي للفرع
- تاريخ التأسيس
- الوضع (نشط، معطل، مغلق)
- الفرع الأب (إن وجد)
- ملاحظات

#### Warehouse (المستودع)
كيان يمثل مستودع من مستودعات الشركة:
- رمز المستودع
- اسم المستودع بالعربية
- اسم المستودع بالإنجليزية
- نوع المستودع
- الفرع التابع له
- العنوان
- المساحة
- السعة
- أمين المستودع
- معلومات الاتصال
- تاريخ التشغيل
- الوضع
- ملاحظات

#### CostCenter (مركز التكلفة)
كيان يمثل مركز تكلفة في الشركة:
- رمز المركز
- اسم المركز بالعربية
- اسم المركز بالإنجليزية
- المركز الأب
- مستوى المركز
- نوع المركز
- الميزانية
- المسؤول
- تاريخ البدء
- تاريخ الانتهاء
- الوضع
- ملاحظات

#### SystemSettings (إعدادات النظام)
كيان يمثل إعدادات النظام العامة:
- مفتاح الإعداد
- قيمة الإعداد
- وصف الإعداد
- نوع الإعداد
- مجموعة الإعداد
- المستخدم الذي قام بالتعديل
- تاريخ آخر تعديل

#### FiscalYear (السنة المالية)
كيان يمثل السنة المالية:
- رمز السنة المالية
- اسم السنة المالية
- تاريخ البداية
- تاريخ النهاية
- حالة السنة (مفتوحة، مغلقة، مؤقتة)
- عدد الفترات
- نوع السنة (ميلادية، هجرية)
- ملاحظات

#### FiscalPeriod (الفترة المحاسبية)
كيان يمثل فترة محاسبية:
- رمز الفترة
- اسم الفترة
- السنة المالية
- تاريخ البداية
- تاريخ النهاية
- حالة الفترة (مفتوحة، مغلقة، مقفلة)
- ترتيب الفترة
- ملاحظات

#### Currency (العملة)
كيان يمثل عملة:
- رمز العملة
- اسم العملة بالعربية
- اسم العملة بالإنجليزية
- رمز العملة المختصر
- عدد الخانات العشرية
- سعر الصرف مقابل العملة الأساسية
- تاريخ آخر تحديث لسعر الصرف
- حالة العملة (نشطة، معطلة)
- ملاحظات

#### TaxSettings (إعدادات الضرائب)
كيان يمثل إعدادات الضرائب:
- رقم التسجيل الضريبي
- تفعيل ضريبة القيمة المضافة
- نسبة ضريبة القيمة المضافة
- حساب ضريبة المدخلات
- حساب ضريبة المخرجات
- حساب الضريبة المستحقة
- طريقة تقريب الضريبة
- عرض الأسعار شاملة الضريبة
- فترة تقديم الإقرار
- تاريخ آخر إقرار 

### الأوامر (Commands)

#### UpdateCompanyInfoCommand (أمر تحديث معلومات الشركة)
- **الغرض**: تحديث المعلومات الأساسية للشركة
- **المدخلات الرئيسية**: بيانات الشركة المحدثة
- **العمليات**: تحديث بيانات الشركة في قاعدة البيانات
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم لتعديل معلومات الشركة
  - التحقق من صحة تنسيق البيانات (مثل الرقم الضريبي، رقم السجل التجاري)
  - تسجيل التغييرات في سجل المراجعة
  - التأكد من أن القيم الإلزامية مدخلة بشكل صحيح
  - معالجة ملف الشعار إذا تم تحديثه (ضغط الصورة، تغيير الحجم)
  - تحديث جميع الكيانات ذات الصلة التي قد تستخدم بيانات الشركة

#### CreateBranchCommand (أمر إنشاء فرع جديد)
- **الغرض**: إنشاء فرع جديد للشركة
- **المدخلات الرئيسية**: بيانات الفرع الجديد
- **العمليات**: إنشاء سجل فرع جديد
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم لإنشاء فروع
  - التحقق من تفرد رمز الفرع
  - التحقق من صحة بيانات الفرع
  - إنشاء الحسابات المرتبطة بالفرع إذا لزم الأمر
  - ربط الفرع بالمستخدمين المصرح لهم
  - تهيئة الإعدادات الافتراضية للفرع

#### UpdateBranchCommand (أمر تحديث فرع)
- **الغرض**: تحديث بيانات فرع موجود
- **المدخلات الرئيسية**: رمز الفرع، البيانات المحدثة
- **العمليات**: تحديث بيانات الفرع
- **منطق الأعمال والتحققات**:
  - التحقق من وجود الفرع
  - التحقق من صلاحيات المستخدم لتعديل الفرع
  - تحديث الحسابات المرتبطة بالفرع إذا لزم الأمر
  - تسجيل التغييرات في سجل المراجعة

#### ToggleBranchStatusCommand (أمر تفعيل/تعطيل فرع)
- **الغرض**: تغيير حالة فرع بين نشط ومعطل
- **المدخلات الرئيسية**: رمز الفرع، الحالة الجديدة
- **العمليات**: تحديث حالة الفرع
- **منطق الأعمال والتحققات**:
  - التحقق من وجود الفرع
  - التحقق من صلاحيات المستخدم لتعديل حالة الفرع
  - التحقق من عدم وجود عمليات نشطة للفرع قبل تعطيله
  - تسجيل التغيير في سجل المراجعة

#### CreateWarehouseCommand (أمر إنشاء مستودع جديد)
- **الغرض**: إنشاء مستودع جديد
- **المدخلات الرئيسية**: بيانات المستودع الجديد
- **العمليات**: إنشاء سجل مستودع جديد
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم لإنشاء مستودعات
  - التحقق من تفرد رمز المستودع
  - التحقق من وجود الفرع المرتبط بالمستودع
  - إنشاء الحسابات المرتبطة بالمستودع إذا لزم الأمر

#### CreateCostCenterCommand (أمر إنشاء مركز تكلفة جديد)
- **الغرض**: إنشاء مركز تكلفة جديد
- **المدخلات الرئيسية**: بيانات مركز التكلفة الجديد
- **العمليات**: إنشاء سجل مركز تكلفة جديد
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم لإنشاء مراكز تكلفة
  - التحقق من تفرد رمز المركز
  - التحقق من صحة العلاقة الهرمية لمراكز التكلفة
  - تحديد مستوى المركز بناءً على المركز الأب

#### UpdateSystemSettingsCommand (أمر تحديث إعدادات النظام)
- **الغرض**: تحديث إعدادات النظام العامة
- **المدخلات الرئيسية**: مجموعة الإعدادات المراد تحديثها
- **العمليات**: تحديث إعدادات النظام في قاعدة البيانات
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم لتعديل إعدادات النظام
  - التحقق من صحة قيم الإعدادات
  - تسجيل التغييرات في سجل المراجعة
  - تحديث الإعدادات في ذاكرة التخزين المؤقت إذا لزم الأمر

#### CreateFiscalYearCommand (أمر إنشاء سنة مالية جديدة)
- **الغرض**: إنشاء سنة مالية جديدة
- **المدخلات الرئيسية**: بيانات السنة المالية
- **العمليات**: إنشاء سنة مالية جديدة مع فتراتها المحاسبية
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم لإنشاء سنة مالية
  - التحقق من عدم تداخل تواريخ السنة مع سنوات أخرى
  - إنشاء الفترات المحاسبية تلقائياً بناءً على عدد الفترات
  - التحقق من صحة تواريخ بداية ونهاية السنة

#### ImportExportSettingsCommand (أمر استيراد/تصدير الإعدادات)
- **الغرض**: استيراد أو تصدير إعدادات النظام
- **المدخلات الرئيسية**: نوع العملية (استيراد/تصدير)، ملف الإعدادات
- **العمليات**: استيراد إعدادات من ملف أو تصدير الإعدادات الحالية
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم للاستيراد/التصدير
  - التحقق من صحة تنسيق ملف الإعدادات
  - تطبيق الإعدادات المستوردة بعد التحقق منها
  - تخزين الإعدادات القديمة كنسخة احتياطية قبل الاستيراد

#### UpdateTaxSettingsCommand (أمر تحديث إعدادات الضرائب)
- **الغرض**: تحديث إعدادات الضرائب
- **المدخلات الرئيسية**: بيانات إعدادات الضرائب المحدثة
- **العمليات**: تحديث إعدادات الضرائب في النظام
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم لتعديل إعدادات الضرائب
  - التحقق من صحة القيم المدخلة (مثل نسب الضريبة)
  - التحقق من وجود الحسابات المحددة للضرائب
  - تسجيل التغييرات في سجل المراجعة

### الاستعلامات (Queries)

#### GetCompanyInfoQuery (استعلام للحصول على معلومات الشركة)
- **الغرض**: استرجاع المعلومات الأساسية للشركة
- **المدخلات**: لا يوجد
- **المخرجات**: بيانات الشركة كاملة
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم للوصول لمعلومات الشركة
  - استرجاع البيانات مع مسار الشعار
  - تنسيق البيانات بشكل مناسب للعرض

#### GetBranchesQuery (استعلام للحصول على قائمة الفروع)
- **الغرض**: استرجاع قائمة فروع الشركة
- **المدخلات**: معايير التصفية، معايير الفرز
- **المخرجات**: قائمة بالفروع مع بياناتها الأساسية
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم للوصول للفروع
  - تصفية الفروع حسب الحالة أو النوع
  - ترتيب النتائج حسب معايير الفرز
  - فلترة الفروع حسب صلاحيات المستخدم

#### GetBranchByIdQuery (استعلام للحصول على فرع بالمعرف)
- **الغرض**: استرجاع بيانات فرع محدد
- **المدخلات**: رمز الفرع
- **المخرجات**: بيانات الفرع كاملة
- **منطق الأعمال والتحققات**:
  - التحقق من وجود الفرع
  - التحقق من صلاحيات المستخدم للوصول للفرع
  - استرجاع الحسابات المرتبطة بالفرع إذا لزم الأمر
  - استرجاع المستخدمين المرتبطين بالفرع إذا لزم الأمر

#### GetWarehousesQuery (استعلام للحصول على قائمة المستودعات)
- **الغرض**: استرجاع قائمة مستودعات الشركة
- **المدخلات**: معايير التصفية، معايير الفرز
- **المخرجات**: قائمة بالمستودعات مع بياناتها الأساسية
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم للوصول للمستودعات
  - تصفية المستودعات حسب الفرع أو النوع أو الحالة
  - ترتيب النتائج حسب معايير الفرز

#### GetCostCentersQuery (استعلام للحصول على قائمة مراكز التكلفة)
- **الغرض**: استرجاع قائمة مراكز التكلفة
- **المدخلات**: معايير التصفية، معايير الفرز
- **المخرجات**: قائمة بمراكز التكلفة مع بياناتها الأساسية
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم للوصول لمراكز التكلفة
  - تصفية المراكز حسب المستوى أو النوع أو الحالة
  - ترتيب النتائج حسب معايير الفرز
  - دعم الهيكل الشجري لمراكز التكلفة إذا تم طلبه

#### GetSystemSettingsQuery (استعلام للحصول على إعدادات النظام)
- **الغرض**: استرجاع إعدادات النظام
- **المدخلات**: مجموعة الإعدادات (اختياري)
- **المخرجات**: قائمة بإعدادات النظام المطلوبة
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم للوصول للإعدادات
  - تصفية الإعدادات حسب المجموعة المطلوبة
  - استخدام ذاكرة التخزين المؤقت لتحسين الأداء

#### GetFiscalPeriodsQuery (استعلام للحصول على الفترات المحاسبية)
- **الغرض**: استرجاع الفترات المحاسبية للسنة المالية
- **المدخلات**: رمز السنة المالية
- **المخرجات**: قائمة بالفترات المحاسبية مع حالاتها
- **منطق الأعمال والتحققات**:
  - التحقق من وجود السنة المالية
  - التحقق من صلاحيات المستخدم للوصول للفترات
  - ترتيب الفترات حسب التسلسل الزمني

#### GetTaxSettingsQuery (استعلام للحصول على إعدادات الضرائب)
- **الغرض**: استرجاع إعدادات الضرائب
- **المدخلات**: لا يوجد
- **المخرجات**: إعدادات الضرائب كاملة
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم للوصول لإعدادات الضرائب
  - استرجاع معلومات الحسابات المرتبطة بالضرائب
  - استرجاع نسب الضرائب المطبقة

#### GetCurrenciesQuery (استعلام للحصول على العملات)
- **الغرض**: استرجاع قائمة العملات المستخدمة
- **المدخلات**: فلتر الحالة (نشطة/غير نشطة)
- **المخرجات**: قائمة بالعملات مع أسعار الصرف
- **منطق الأعمال والتحققات**:
  - التحقق من صلاحيات المستخدم للوصول للعملات
  - تحديد العملة الأساسية
  - استرجاع آخر أسعار صرف محدثة

## اختصارات لوحة المفاتيح وأزرار الشاشة السريعة

### اختصارات لوحة المفاتيح
- **Ctrl+S**: حفظ الإعدادات
- **Ctrl+Z**: إلغاء التغييرات
- **F1**: عرض المساعدة
- **F5**: تحديث البيانات
- **Ctrl+P**: طباعة الإعدادات الحالية
- **Ctrl+E**: تصدير الإعدادات
- **Ctrl+I**: استيراد الإعدادات
- **Ctrl+Tab**: التنقل بين علامات التبويب
- **Alt+1,2,3...**: الانتقال إلى علامة التبويب المحددة
- **Ctrl+F**: البحث في الإعدادات

### أزرار الشاشة السريعة
- **زر الحفظ**: حفظ جميع التغييرات
- **زر الإلغاء**: إلغاء التغييرات وإعادة تحميل الإعدادات
- **زر الاستعادة**: استعادة الإعدادات الافتراضية
- **زر التصدير**: تصدير الإعدادات إلى ملف
- **زر الاستيراد**: استيراد الإعدادات من ملف
- **زر تحديث الشعار**: تحميل شعار جديد للشركة
- **زر إضافة فرع**: إضافة فرع جديد
- **زر إضافة مستودع**: إضافة مستودع جديد
- **زر إضافة مركز تكلفة**: إضافة مركز تكلفة جديد
- **زر اختبار اتصال البريد**: اختبار إعدادات خادم البريد
- **زر إنشاء نسخة احتياطية**: إجراء نسخ احتياطي يدوي للإعدادات

## ملاحظات تقنية إضافية

1. **أمان البيانات**:
   - تشفير البيانات الحساسة مثل كلمات المرور وبيانات الاتصال
   - تقييد الوصول للإعدادات الحساسة حسب صلاحيات المستخدم
   - تسجيل جميع التغييرات على الإعدادات في سجل المراجعة

2. **أداء النظام**:
   - استخدام ذاكرة التخزين المؤقت (Cache) للإعدادات شائعة الاستخدام
   - تحميل الإعدادات بشكل تدريجي عند الطلب
   - تعديل الإعدادات المتعددة في عملية واحدة لتحسين الأداء

3. **تجربة المستخدم**:
   - استخدام واجهة مستخدم متجاوبة مع مختلف أحجام الشاشات
   - توفير خيارات بحث سريعة للوصول للإعدادات المطلوبة
   - عرض شرح موجز لكل إعداد وتأثيره على النظام
   - تنظيم الإعدادات في مجموعات منطقية لسهولة الوصول

4. **التحكم في التغييرات**:
   - حماية الإعدادات الحرجة من التغيير العرضي
   - توفير خيار استعادة النسخة السابقة من الإعدادات
   - عرض تأكيد قبل إجراء تغييرات واسعة النطاق
   - سجل كامل للتغييرات على الإعدادات مع إمكانية استعراضه 