# شاشة إقفال الفترات المحاسبية (Accounting Periods Closing)

## نظرة عامة
شاشة إقفال الفترات المحاسبية هي إحدى الشاشات الإدارية الرئيسية في نظام الأونكس برو ERP، والتي تُستخدم لإدارة وتنظيم الفترات المحاسبية وإجراءات إقفالها. تتيح هذه الشاشة للمحاسبين ومدراء النظام التحكم في دورة العمل المحاسبية من خلال فتح وإغلاق الفترات المحاسبية (شهرية، ربع سنوية، سنوية) ومنع التعديل على البيانات المالية بعد الانتهاء من عمليات المراجعة والتدقيق.

تعتبر هذه الشاشة جزءاً أساسياً من إجراءات الضبط الداخلي وحوكمة البيانات المالية، حيث تساعد في ضمان دقة التقارير المالية ومنع التعديلات غير المصرح بها على البيانات المالية التاريخية. كما توفر آليات للتأكد من اكتمال جميع المعاملات المالية وتوازن الحسابات قبل إقفال أي فترة محاسبية.

## مكونات واجهة المستخدم

### القسم العلوي (شريط الأدوات)
- **شريط العنوان**: يعرض عنوان الشاشة "إقفال الفترات المحاسبية" مع أيقونة توضيحية
- **شريط الأدوات الرئيسي**: يحتوي على أزرار للوظائف الأساسية مثل:
  - زر تحديث البيانات
  - زر حفظ التغييرات
  - زر فتح فترة مغلقة
  - زر إقفال فترة
  - زر إقفال نهائي
  - زر تعليق/إيقاف الفترة
  - زر التحقق من الإقفال
  - زر التراجع عن الإقفال
  - زر المساعدة
- **شريط البحث**: يتيح البحث في الفترات المحاسبية
- **مؤشر السنة المالية**: يعرض السنة المالية الحالية مع إمكانية تغييرها

### قسم عرض الفترات المحاسبية (الجزء الرئيسي)
- **جدول الفترات المحاسبية**: يعرض جميع الفترات المحاسبية بالتفاصيل التالية:
  - رمز الفترة المحاسبية
  - وصف الفترة
  - نوع الفترة (شهرية، ربع سنوية، سنوية)
  - تاريخ بداية الفترة
  - تاريخ نهاية الفترة
  - حالة الفترة (مفتوحة، معلقة، مغلقة، مغلقة نهائياً)
  - مستوى القفل (كامل، وحدات محددة فقط)
  - تاريخ الإقفال
  - المستخدم الذي قام بالإقفال
  - ملاحظات الإقفال
  - إجمالي المعاملات في الفترة
  - مؤشرات الحالة (أيقونات توضح حالة الفترة)
- **عرض على شكل تقويم**: عرض بديل للفترات على شكل تقويم مع ألوان تمييز الحالات
- **شريط تمرير**: للتنقل بين الفترات المحاسبية
- **خيارات العرض**: للتحكم في طريقة عرض البيانات

### قسم تفاصيل الفترة المحاسبية (الجزء السفلي أو الشريط الجانبي)
- **تبويب معلومات الفترة**: يعرض تفاصيل الفترة المحددة:
  - معلومات عامة عن الفترة
  - تفاصيل الإقفالات السابقة
  - تفاصيل إعادة الفتح
  - سجل التعديلات على حالة الفترة
  - صلاحيات الوصول للفترة
- **تبويب التحققات والأخطاء**: يعرض:
  - قائمة بالتحققات المطلوب إجراؤها قبل الإقفال
  - الأخطاء أو القيود غير المتوازنة
  - العمليات المعلقة التي تحتاج للمعالجة
  - تحذيرات النظام
- **تبويب إحصائيات الفترة**: يعرض:
  - عدد القيود المحاسبية
  - إجمالي المبالغ المدينة والدائنة
  - عدد الفواتير والمستندات
  - المؤشرات المالية الرئيسية للفترة
  - مقارنة مع الفترات السابقة
- **تبويب المستندات المعلقة**: يعرض:
  - الفواتير غير المسددة
  - الشيكات المعلقة
  - المستندات غير المرحلة
  - العمليات النقدية غير المسواة

### شريط الحالة (أسفل الشاشة)
- **معلومات إحصائية**: إجمالي عدد الفترات حسب الحالة
- **حالة المزامنة**: آخر تحديث للبيانات
- **معلومات المعالجة**: حالة عمليات الإقفال الجارية
- **معلومات المستخدم**: المستخدم الحالي والصلاحيات
- **التاريخ والوقت**: تاريخ ووقت آخر عملية إقفال/فتح

## الوظائف الرئيسية

### إدارة الفترات المحاسبية
1. **عرض وتصفح الفترات المحاسبية**:
   - عرض جميع الفترات المحاسبية للسنة المالية الحالية
   - تصفية الفترات حسب الحالة (مفتوحة، معلقة، مغلقة)
   - تصفية الفترات حسب النوع (شهرية، ربع سنوية، سنوية)
   - البحث عن فترة محددة بالرمز أو التاريخ
   - التنقل بين السنوات المالية المختلفة
   - عرض تفاصيل كل فترة محاسبية

2. **تكوين الفترات المحاسبية**:
   - تحديد تواريخ بداية ونهاية الفترات المحاسبية
   - تعريف أنواع الفترات (شهرية، ربع سنوية، سنوية)
   - ربط الفترات بالسنوات المالية المناسبة
   - تعيين مستويات القفل للفترات المحاسبية
   - تعيين صلاحيات الوصول للفترات المحاسبية
   - إضافة ملاحظات وتفاصيل للفترات المحاسبية

3. **ضبط إعدادات الإقفال**:
   - تحديد قواعد الإقفال التلقائي للفترات
   - تكوين قائمة التحققات المطلوبة قبل الإقفال
   - ضبط فترات التحذير قبل الإقفال
   - تحديد إجراءات القفل لكل نوع من أنواع المعاملات
   - تكوين قواعد التراجع عن الإقفال
   - تحديد صلاحيات الإقفال وإعادة الفتح

### عمليات الإقفال والفتح
1. **التحقق قبل الإقفال**:
   - التحقق من توازن جميع القيود المحاسبية
   - فحص وجود معاملات معلقة أو غير مكتملة
   - التحقق من تسوية الحسابات البنكية
   - التأكد من ترحيل جميع المستندات المطلوبة
   - تحقق من اكتمال عمليات إقفال المخزون
   - إنشاء تقارير التحقق والأخطاء

2. **إجراءات إقفال الفترة**:
   - إقفال فترة محاسبية مع تحديد مستوى القفل
   - الإقفال النهائي للفترة المحاسبية
   - إقفال فترات متعددة دفعة واحدة
   - إقفال فترات لوحدات محددة فقط
   - منع إنشاء أو تعديل معاملات في الفترة المغلقة
   - توثيق عملية الإقفال ومعلومات المستخدم

3. **إجراءات فتح أو التراجع عن الإقفال**:
   - إعادة فتح فترة محاسبية مغلقة (للمستخدمين المصرح لهم)
   - تسجيل سبب إعادة الفتح
   - تحديد وحدات معينة للفتح المؤقت
   - تعيين فترة زمنية محددة لإعادة الفتح
   - فرض مستوى إضافي من المصادقة على إعادة الفتح
   - توثيق عمليات إعادة الفتح بشكل كامل

4. **تعليق وإيقاف الفترات**:
   - تعليق فترة محاسبية مؤقتاً
   - منع إنشاء معاملات جديدة مع السماح بالتعديل
   - إيقاف فترة لمراجعتها
   - إدارة صلاحيات الوصول أثناء فترة التعليق
   - استئناف العمل على فترة معلقة
   - تعيين حدود زمنية للتعليق

### المعالجة والتقارير
1. **معالجة المستندات المعلقة**:
   - عرض جميع المستندات غير المرحلة في الفترة
   - تحديد القيود غير المتوازنة وتصحيحها
   - إتمام تسوية الحسابات قبل الإقفال
   - معالجة الشيكات والتحويلات المعلقة
   - استكمال معالجة الفواتير غير المكتملة
   - توليد قيود التسوية اللازمة قبل الإقفال

2. **ترحيل أرصدة الفترة**:
   - ترحيل الأرصدة الختامية إلى الفترة التالية
   - إنشاء قيود الافتتاح للفترة الجديدة
   - حساب وترحيل أرصدة الأرباح والخسائر
   - التأكد من توازن الميزانية العمومية بعد الترحيل
   - توثيق عملية الترحيل والأرصدة المرحلة
   - التعامل مع عمليات الترحيل لكل العملات

3. **تقارير ختام الفترة**:
   - إنشاء ميزان المراجعة النهائي للفترة
   - استخراج تقرير القوائم المالية للفترة
   - تقرير المقارنة مع الفترات السابقة
   - تقرير ملخص الحركات المالية
   - تقرير تتبع أداء المستخدمين
   - تقارير التدقيق والمراجعة للفترة

4. **عمليات آخر السنة المالية**:
   - إجراءات خاصة بإقفال السنة المالية
   - إنشاء قيود التسوية السنوية
   - تحديث الأرباح المدورة
   - إعادة تقييم الحسابات بالعملات الأجنبية
   - ترحيل الأرصدة للسنة المالية الجديدة
   - إعداد الميزانية العمومية النهائية للسنة

### الصلاحيات والتدقيق
1. **إدارة صلاحيات الإقفال**:
   - تحديد المستخدمين المصرح لهم بإقفال الفترات
   - تعيين مستويات الصلاحية لإعادة فتح الفترات
   - تكوين سياسات المصادقة متعددة المستويات
   - إدارة التفويضات المؤقتة لصلاحيات الإقفال
   - تعيين قيود على فترات معينة
   - ربط الصلاحيات بالهيكل التنظيمي

2. **تتبع ومراقبة عمليات الإقفال**:
   - تسجيل كامل لعمليات الإقفال وإعادة الفتح
   - توثيق المستخدمين وأوقات العمليات
   - متابعة أسباب إعادة فتح الفترات
   - عرض تاريخ التغييرات على حالة الفترات
   - مراقبة الاستثناءات والعمليات غير العادية
   - إنشاء تقارير التدقيق على عمليات الإقفال 

## العمليات المتقدمة

### عمليات الإقفال المتقدمة
- **الإقفال المرحلي**:
  - إقفال محاسبي مع إبقاء إقفال الوحدات الأخرى مفتوحاً
  - إقفال تدريجي للوحدات المختلفة بناءً على جدول زمني
  - إقفال للتصدير مع إبقاء الإدخال مفتوحاً
  - إقفال تعاقبي للوحدات المترابطة
  - ضبط مستويات مختلفة من الإقفال للفترة الواحدة

- **الإقفال الفوري والطارئ**:
  - إجراءات الإقفال الطارئ في حالات الأمان والمخاطر
  - تجاوز بعض التحققات في حالات الطوارئ
  - توثيق خاص لعمليات الإقفال الطارئ
  - إنذار وإخطار المستخدمين عند الإقفال الفوري
  - آليات استرجاع واستعادة وضع ما قبل الإقفال الطارئ

- **إدارة الإقفال عبر الفروع والشركات**:
  - تنسيق عمليات الإقفال بين الفروع المختلفة
  - إقفال على مستوى المجموعة بعد اكتمال إقفال الشركات التابعة
  - إدارة العمليات البينية خلال فترات الإقفال
  - توحيد جداول الإقفال للشركات المرتبطة
  - آليات التحقق والموافقة متعددة المستويات

### الأتمتة والجدولة
- **الإقفال الآلي المجدول**:
  - جدولة عمليات الإقفال التلقائي للفترات
  - إعداد مواعيد محددة للتحقق والإقفال
  - خيارات تخصيص الإقفال المؤقت أو الدائم
  - إعدادات التنبيهات قبل الإقفال المجدول
  - خيارات تجاوز الإقفال الآلي في حالات خاصة

- **المعالجة المسبقة والتحضير للإقفال**:
  - تشغيل عمليات التحضير للإقفال آلياً
  - إنشاء قيود التسوية التلقائية قبل الإقفال
  - تدقيق تلقائي للأرصدة والقيود
  - معالجة الشيكات والمدفوعات المعلقة
  - تحديد وتنبيه بالمعاملات غير المكتملة

- **سيناريوهات ما بعد الإقفال**:
  - إجراء عمليات التسوية التلقائية بعد الإقفال
  - خلق النسخ الاحتياطية للفترات المغلقة
  - توليد التقارير الإحصائية والتحليلية
  - إنشاء المؤشرات المالية للفترة المغلقة
  - تحديث الموازنات والتوقعات للفترات القادمة

### التكامل مع الأنظمة الأخرى
- **التكامل مع نظام الميزانية**:
  - مقارنة النتائج الفعلية مع الميزانية عند الإقفال
  - تحديث حالة تنفيذ الميزانية
  - إنشاء تقارير الانحرافات عن الميزانية
  - تحميل بيانات الإقفال إلى نظام تخطيط الميزانية
  - تعديل توقعات الميزانية بناءً على نتائج الإقفال

- **التكامل مع أنظمة التدقيق والامتثال**:
  - مشاركة بيانات الإقفال مع أنظمة التدقيق
  - إصدار شهادات الامتثال بعد إقفال الفترة
  - توثيق الإجراءات المتبعة لمتطلبات الامتثال
  - إنشاء مسار تدقيق آمن ومفصل
  - إبلاغ الجهات الرقابية بإتمام عمليات الإقفال

- **التكامل مع أنظمة الإدارة العليا**:
  - توفير لوحات معلومات لمتابعة عمليات الإقفال
  - تحميل البيانات المالية المقفلة إلى أنظمة ذكاء الأعمال
  - توفير تحليلات متقدمة للبيانات المالية
  - إشعارات الأداء والإقفال للإدارة العليا
  - تكامل مع أنظمة إدارة المخاطر المؤسسية

### الحلول المتقدمة لإدارة الفترات
- **نماذج الإقفال المخصصة**:
  - إنشاء قوالب إقفال مخصصة لأنواع مختلفة من الفترات
  - تخصيص قوائم التحقق حسب نوع الفترة والوحدة
  - تطبيق معايير إقفال محددة حسب النشاط التجاري
  - تكوين سير عمل معتمد على طبيعة الفترة
  - إضافة تحققات خاصة بالصناعة أو المتطلبات التنظيمية

- **إدارة الفترات المحاسبية الخاصة**:
  - إدارة فترات الانتقال والاندماج
  - معالجة الفترات المحاسبية القصيرة أو الطويلة
  - إدارة الفترات المحاسبية لمشاريع محددة
  - تكوين فترات محاسبية استثنائية
  - إدارة التقويمات المالية المختلفة (تقويم هجري، تقويم غربي)

- **حلول استرجاع وأرشفة البيانات**:
  - أرشفة آلية للفترات المحاسبية المغلقة
  - استرجاع بيانات الفترات المغلقة للمراجعة
  - تصدير البيانات المالية للفترات المغلقة
  - استعادة بيانات الفترات للتدقيق أو المراجعة
  - خيارات أرشفة متدرجة حسب عمر الفترة 

## مكونات طبقة التطبيق

### الكيانات (Entities)

#### AccountingPeriod
كيان رئيسي يمثل فترة محاسبية ويحتوي على:
- رمز الفترة المحاسبية
- وصف الفترة
- نوع الفترة (شهرية، ربع سنوية، سنوية)
- تاريخ بداية الفترة
- تاريخ نهاية الفترة
- حالة الفترة (مفتوحة، معلقة، مغلقة، مغلقة نهائياً)
- مستوى القفل (كامل، جزئي)
- تاريخ الإقفال
- معرف المستخدم الذي قام بالإقفال
- معرف السنة المالية المرتبطة
- ملاحظات الإقفال
- إجمالي القيود المحاسبية
- إجمالي المبالغ المدينة
- إجمالي المبالغ الدائنة

#### AccountingPeriodLock
كيان يمثل عملية إقفال فترة محاسبية:
- معرف الإقفال
- معرف الفترة المحاسبية
- تاريخ ووقت الإقفال
- نوع الإقفال (مؤقت، نهائي)
- مستوى الإقفال (كامل، وحدات محددة)
- سبب الإقفال
- معرف المستخدم
- الوحدات المشمولة بالإقفال
- ملاحظات الإقفال
- إجراءات التحقق المنفذة
- نتائج التحقق

#### AccountingPeriodUnlock
كيان يمثل عملية إعادة فتح فترة محاسبية:
- معرف إعادة الفتح
- معرف الفترة المحاسبية
- تاريخ ووقت إعادة الفتح
- سبب إعادة الفتح
- معرف المستخدم
- مدة إعادة الفتح (مؤقتة أو دائمة)
- تاريخ انتهاء إعادة الفتح (للمؤقتة)
- الوحدات المشمولة بإعادة الفتح
- المصادقات على إعادة الفتح
- ملاحظات إضافية

#### PeriodVerification
كيان يمثل عملية تحقق من فترة محاسبية:
- معرف عملية التحقق
- معرف الفترة المحاسبية
- تاريخ التحقق
- نوع التحقق (توازن القيود، تسوية البنوك، إلخ)
- حالة التحقق (ناجح، فاشل، استثناءات)
- تفاصيل النتائج
- معرف المستخدم
- قائمة الأخطاء المكتشفة
- قائمة التحذيرات
- الإجراءات المقترحة

#### PeriodSetting
كيان يمثل إعدادات الفترات المحاسبية:
- معرف الإعداد
- نوع الفترة (شهرية، ربع سنوية، سنوية)
- مدة التحذير قبل الإقفال (بالأيام)
- قائمة التحققات المطلوبة
- مستويات المصادقة المطلوبة
- قواعد الإقفال التلقائي
- إعدادات الترحيل
- صلاحيات الإقفال
- صلاحيات إعادة الفتح
- إجراءات ما بعد الإقفال

#### ClosingSchedule
كيان يمثل جدول الإقفال:
- معرف الجدول
- وصف الجدول
- موعد بدء عملية التحقق
- موعد الإقفال المقرر
- الفترات المشمولة
- الوحدات المعنية
- حالة الجدول (نشط، معطل، منتهي)
- التنبيهات المتعلقة بالجدول
- المستخدمين المسؤولين
- تكرار الجدول (إن وجد)

#### PendingDocument
كيان يمثل مستندات معلقة في الفترة:
- معرف المستند
- نوع المستند
- رقم المستند
- تاريخ المستند
- حالة المستند
- الوحدة المعنية
- المبلغ
- سبب التعليق
- أولوية المعالجة
- الإجراء المطلوب
- معرف المستخدم المسؤول

### الأوامر (Commands)

#### ClosePeriodCommand
إقفال فترة محاسبية.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم لإقفال الفترة
- التحقق من عدم وجود قيود غير متوازنة في الفترة
- التحقق من عدم وجود مستندات معلقة تحتاج معالجة
- التحقق من اكتمال عمليات التسوية المطلوبة
- التأكد من ترحيل جميع المستندات المطلوبة
- تحديث حالة الفترة إلى "مغلقة"
- تسجيل معلومات الإقفال (المستخدم، التاريخ، السبب)
- تنفيذ إجراءات ما بعد الإقفال إن وجدت

#### FinalClosePeriodCommand
إجراء الإقفال النهائي لفترة محاسبية.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم للإقفال النهائي
- التأكد من أن الفترة مغلقة مسبقاً
- التحقق من اكتمال جميع إجراءات الإقفال
- طلب مصادقات إضافية عند الضرورة
- تحديث حالة الفترة إلى "مغلقة نهائياً"
- تسجيل معلومات الإقفال النهائي
- منع أي تغييرات مستقبلية على بيانات الفترة
- إجراء نسخ احتياطي للبيانات قبل الإقفال النهائي

#### ReopenPeriodCommand
إعادة فتح فترة محاسبية مغلقة.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم لإعادة فتح الفترات
- التأكد من أن الفترة ليست مغلقة نهائياً
- التحقق من السبب الوجيه لإعادة الفتح
- طلب مصادقات إضافية وفقاً لمستوى الصلاحية
- تسجيل معلومات إعادة الفتح (المستخدم، التاريخ، السبب)
- تحديد مدة إعادة الفتح إذا كانت مؤقتة
- تحديث حالة الفترة إلى "مفتوحة" أو "معلقة"
- إرسال إشعارات للمستخدمين المعنيين

#### SuspendPeriodCommand
تعليق فترة محاسبية.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم لتعليق الفترات
- التحقق من أن الفترة مفتوحة
- تحديث حالة الفترة إلى "معلقة"
- تسجيل سبب التعليق
- تحديد مدة التعليق إن وجدت
- تعيين صلاحيات استثنائية خلال فترة التعليق
- إرسال إشعارات للمستخدمين المعنيين

#### VerifyPeriodCommand
إجراء عملية تحقق من فترة محاسبية.

**منطق الأعمال والتحققات**:
- تحديد نوع التحقق المطلوب إجراؤه
- التحقق من توازن القيود المحاسبية
- فحص المستندات المعلقة وغير المكتملة
- التحقق من تسوية الحسابات البنكية
- التحقق من اكتمال المعاملات بين الوحدات
- تحليل نتائج التحقق والأخطاء المكتشفة
- إنشاء تقرير بنتائج التحقق
- تسجيل حالة التحقق وتاريخه والمستخدم المنفذ

#### SchedulePeriodClosingCommand
جدولة إقفال فترة محاسبية.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم لجدولة الإقفال
- التحقق من صحة معلومات الجدولة
- تحديد الفترة المستهدفة وموعد الإقفال
- تعيين عمليات التحقق المسبق قبل الإقفال
- تكوين التنبيهات وتحديد المستلمين
- تحديد المستخدمين المعنيين بالعملية
- حفظ معلومات الجدولة
- تنشيط آلية التنفيذ الآلي للجدول

#### ProcessPendingDocumentsCommand
معالجة المستندات المعلقة للفترة.

**منطق الأعمال والتحققات**:
- جمع قائمة المستندات المعلقة للفترة
- فرز المستندات حسب النوع والأولوية
- تحديد الإجراءات المطلوبة لكل مستند
- تعيين مسؤولين للمعالجة
- إرسال إشعارات للمعنيين
- تتبع حالة المعالجة لكل مستند
- تحديث حالة المستندات بعد المعالجة
- توثيق الإجراءات المتخذة

#### ExportClosedPeriodDataCommand
تصدير بيانات فترة مغلقة.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم للوصول للبيانات
- تحديد نطاق البيانات المطلوب تصديرها
- تجميع البيانات من مختلف الوحدات
- إنشاء نسق التصدير المناسب
- تنفيذ عملية التصدير
- تشفير البيانات عند الحاجة
- تسجيل عملية التصدير في سجل العمليات
- إتاحة البيانات المصدرة للمستخدم

#### ConfigurePeriodSettingsCommand
تكوين إعدادات الفترات المحاسبية.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم لتعديل الإعدادات
- التحقق من صحة الإعدادات المدخلة
- تحديث إعدادات أنواع الفترات
- تكوين قواعد الإقفال والتحقق
- تعيين مستويات المصادقة المطلوبة
- تحديث صلاحيات الإقفال وإعادة الفتح
- تكوين قواعد الإقفال التلقائي
- حفظ الإعدادات الجديدة

### الاستعلامات (Queries)

#### GetAccountingPeriodsQuery
استرجاع قائمة الفترات المحاسبية.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم للوصول للفترات
- دعم التصفية حسب السنة المالية
- دعم التصفية حسب حالة الفترة
- دعم التصفية حسب نوع الفترة
- دعم التصفية حسب نطاق التاريخ
- دعم الفرز حسب مختلف المعايير
- استرجاع معلومات الإقفال والمستخدمين
- استرجاع إحصائيات الفترات

#### GetAccountingPeriodByIdQuery
استرجاع تفاصيل فترة محاسبية محددة.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم للوصول للفترة
- التحقق من وجود الفترة المطلوبة
- استرجاع تفاصيل الفترة الكاملة
- استرجاع معلومات الإقفال المرتبطة
- استرجاع تاريخ التغييرات على الفترة
- استرجاع إحصائيات الفترة
- جمع معلومات التحقق السابقة
- استرجاع الإشعارات والتنبيهات المرتبطة

#### GetPeriodLockHistoryQuery
استرجاع سجل إقفال وإعادة فتح فترة محاسبية.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم للوصول لسجل الإقفال
- التحقق من وجود الفترة المطلوبة
- استرجاع كافة عمليات الإقفال وإعادة الفتح
- استرجاع معلومات المستخدمين المنفذين
- استرجاع أسباب العمليات والملاحظات
- استرجاع المصادقات المرتبطة بكل عملية
- ترتيب النتائج زمنياً
- تجميع الإحصائيات عن تاريخ الإقفال

#### GetVerificationResultsQuery
استرجاع نتائج عمليات التحقق للفترة.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم للوصول لنتائج التحقق
- التحقق من وجود الفترة المطلوبة
- دعم التصفية حسب نوع التحقق
- دعم التصفية حسب حالة التحقق
- استرجاع الأخطاء والتحذيرات المكتشفة
- استرجاع إحصائيات نتائج التحقق
- تجميع نتائج التحقق المتعددة
- توفير معلومات حول إجراءات التصحيح المقترحة

#### GetPendingDocumentsQuery
استرجاع المستندات المعلقة للفترة.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم للوصول للمستندات المعلقة
- التحقق من وجود الفترة المطلوبة
- دعم التصفية حسب نوع المستند
- دعم التصفية حسب حالة المستند
- دعم التصفية حسب الوحدة المعنية
- دعم التصفية حسب أولوية المعالجة
- استرجاع المستندات مع تفاصيلها الكاملة
- تجميع إحصائيات المستندات المعلقة

#### GetClosingSchedulesQuery
استرجاع جداول الإقفال المجدولة.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم للوصول لجداول الإقفال
- دعم التصفية حسب الفترة
- دعم التصفية حسب الحالة
- دعم التصفية حسب مدى زمني
- استرجاع تفاصيل الجداول المقبلة
- استرجاع معلومات المسؤولين عن التنفيذ
- تجميع إحصائيات مواعيد الإقفال
- استرجاع التنبيهات المرتبطة بالجداول

#### GetPeriodStatisticsQuery
استرجاع إحصائيات الفترة المحاسبية.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم للوصول للإحصائيات
- التحقق من وجود الفترة المطلوبة
- استرجاع معلومات إجمالي القيود والمعاملات
- استرجاع إجمالي المبالغ المدينة والدائنة
- تجميع إحصائيات حسب الوحدات المختلفة
- استرجاع مؤشرات المقارنة مع الفترات السابقة
- استخراج المؤشرات المالية الرئيسية
- استرجاع معلومات الاتجاهات والانحرافات

#### GetPeriodSettingsQuery
استرجاع إعدادات الفترات المحاسبية.

**منطق الأعمال والتحققات**:
- التحقق من صلاحية المستخدم للوصول للإعدادات
- استرجاع إعدادات أنواع الفترات
- استرجاع قواعد الإقفال والتحقق
- استرجاع مستويات المصادقة المطلوبة
- استرجاع صلاحيات الإقفال وإعادة الفتح
- استرجاع قواعد الإقفال التلقائي
- تجميع الإعدادات حسب أنواع الفترات
- استرجاع القوالب المخصصة للإقفال

## اختصارات لوحة المفاتيح وأزرار الشاشة السريعة

### اختصارات لوحة المفاتيح
- **F1**: عرض المساعدة
- **F2**: تحديث البيانات
- **F3**: فتح نافذة البحث في الفترات
- **F4**: فتح تفاصيل الفترة المحددة
- **F5**: تشغيل عملية التحقق للفترة المحددة
- **F6**: عرض المستندات المعلقة للفترة
- **F8**: إقفال الفترة المحددة
- **F9**: عرض تاريخ التغييرات على الفترة
- **Ctrl+P**: طباعة تقرير الفترة المحددة
- **Ctrl+R**: إنشاء تقرير للفترة المحددة
- **Ctrl+O**: إعادة فتح فترة مغلقة
- **Ctrl+S**: إيقاف/تعليق فترة مفتوحة
- **Ctrl+F**: التصفية المتقدمة
- **Ctrl+E**: تصدير بيانات الفترة
- **Ctrl+N**: عرض الفترة التالية
- **Ctrl+B**: عرض الفترة السابقة
- **Alt+F4**: إغلاق الشاشة

### أزرار الشاشة السريعة
- **زر تحديث البيانات**: تحديث عرض الفترات
- **زر الإقفال**: إقفال الفترة المحددة
- **زر الإقفال النهائي**: إقفال نهائي للفترة المحددة
- **زر إعادة الفتح**: إعادة فتح فترة مغلقة
- **زر التعليق**: تعليق أو إيقاف فترة مفتوحة
- **زر التحقق**: تشغيل عمليات التحقق للفترة
- **زر المستندات المعلقة**: عرض المستندات المعلقة
- **زر التقارير**: فتح قائمة التقارير المتاحة
- **زر الجدولة**: جدولة إقفال الفترة
- **زر التصدير**: تصدير بيانات الفترة
- **زر الإعدادات**: فتح إعدادات الفترات
- **زر تاريخ التغييرات**: عرض سجل التغييرات
- **زر المساعدة**: عرض المساعدة والتوثيق
- **زر الإحصائيات**: عرض إحصائيات الفترة 